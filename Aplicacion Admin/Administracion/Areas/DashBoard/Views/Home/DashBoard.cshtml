
@{
    ViewBag.Title = "DashBoard";
}

<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">

    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header"> @Administracion.Resources.textos.botonDash </h1>
        </div>
    </div><!--/.row-->

    <div class="row">
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-blue panel-widget ">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-hospital-o fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numLocations</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonLoc</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-orange panel-widget">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-user-md fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numPractitioners</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonPrac</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-teal panel-widget">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-user fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numPatients</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonPac</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-red panel-widget">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-medkit fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numMedications</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonMed</div>
                    </div>
                </div>
            </div>
        </div>
    </div><!--/.row-->

    <div class="row">
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-yellow panel-widget ">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-map-o fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numCarePlans</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonPlan</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-green panel-widget">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-flag fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numGoals</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonObj</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-purple panel-widget">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-stethoscope fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numSpecialtys</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonEsp</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-6 col-lg-3">
            <div class="panel panel-orange2 panel-widget">
                <div class="row no-padding">
                    <div class="col-sm-3 col-lg-5 widget-left">
                        <i class="fa fa-handshake-o fa-4x " aria-hidden="true"></i>
                    </div>
                    <div class="col-sm-9 col-lg-7 widget-right">
                        <div class="large">@ViewBag.numEncounters</div>
                        <div class="text-muted">@Administracion.Resources.textos.botonCit</div>
                    </div>
                </div>
            </div>
        </div>
    </div><!--/.row-->

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">@Administracion.Resources.textos.graficoCarga</div>
                <div class="panel-body">
                    <div class="canvas-wrapper">
                        <canvas class="main-chart" id="bar-chart-charge" height="120" width="600"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div><!--/.row-->


    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">@Administracion.Resources.textos.graficoPrac</div>
                <div class="panel-body">
                    <div class="canvas-wrapper">
                        <canvas class="main-chart" id="bar-chart-prac" height="200" width="600"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading"> @Administracion.Resources.textos.graficoPat</div>
                <div class="panel-body">
                    <div class="canvas-wrapper">
                        <canvas class="main-chart" id="bar-chart-pat" height="200" width="600"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div><!--/.row-->

</div>	<!--/.main-->


@section scripts {
    <script>
        var locations;
        var practitioners;

        $(document).ready(function () {
            var url = "@Url.Action("BarChartLocations")";
            $.post(url, {})
                .done(function (data) {
                    locations = data;
                    var url = "@Url.Action("BarChartPractitioners")";
                    $.post(url, {})
                        .done(function (data) {
                            practitioners = data

                            for (x = 0; x < practitioners.length; x++) {
                                practitioners[x] = parseInt(practitioners[x]);
                            }

                            console.log("Practitioners" + data);

                            var barChartData = {
                                labels: locations,
                                datasets: [
                                    {
                                        fillColor: "rgba(220,220,220,0.5)",
                                        strokeColor: "rgba(220,220,220,0.8)",
                                        highlightFill: "rgba(220,220,220,0.75)",
                                        highlightStroke: "rgba(220,220,220,1)",
                                        data: practitioners
                                    }
                                ]

                            }
                            
                                var chart2 = document.getElementById("bar-chart-prac").getContext("2d");
                                window.myBar = new Chart(chart2).Bar(barChartData, {
                                    responsive: true
                                });


                        })
                        .fail(function (data) {

                            console.log(data);
                        });
                })
                .fail(function (data) {

                    console.log(data);
                });
        });

        $(document).ready(function () {

        });

    </script>

<script>
        var locations2;
        var practitioners2;
        var pacients2;

        $(document).ready(function () {
            var url = "@Url.Action("BarChartLocations")";
            $.post(url, {})
                .done(function (data) {
                    locations2 = data;

                    var url = "@Url.Action("BarChartPractitioners")";
                    $.post(url, {})

                        .done(function (data) {
                            practitioners2 = data
                            for (x = 0; x < practitioners2.length; x++) {
                                practitioners2[x] = parseInt(practitioners2[x]);
                            }
                            console.log("Practitioners2 " + data);

                            var url = "@Url.Action("BarChartPatients")";
                             $.post(url, {})

                            .done(function (data) {
                                patients2 = data
                                for (x = 0; x < patients2.length; x++) {
                                    patients2[x] = parseInt(patients2[x]);
                                }
                                console.log("Patients2 " + patients2);

                                var barChartData2 = {
                                    labels: locations2,
                                    datasets: [
                                        {
                                            label: "Practitioners",
                                            fillColor: "rgba(220,220,220,0.5)",
                                            strokeColor: "rgba(220,220,220,0.8)",
                                            highlightFill: "rgba(220,220,220,0.75)",
                                            highlightStroke: "rgba(220,220,220,1)",
                                            data: practitioners2
                                        },
                                        {
                                            label: "Patients",
                                            fillColor: "rgba(20,220,20,0.5)",
                                            strokeColor: "rgba(20,220,20,0.8)",
                                            highlightFill: "rgba(20,220,20,0.75)",
                                            highlightStroke: "rgba(20,220,20,1)",
                                            data: patients2
                                        }
                                    ]

                                }

                                var chart3 = document.getElementById("bar-chart-charge").getContext("2d");
                                window.myBar2 = new Chart(chart3).Bar(barChartData2, {
                                    responsive: true
                                });
                                 })
                                 .fail(function (data) {

                                     console.log(data);
                                 });
                            
                        })
                        .fail(function (data) {

                            console.log(data);
                        });
                })
                .fail(function (data) {

                    console.log(data);
                });
        });

        $(document).ready(function () {

        });

</script>


<script>
        var locations3;
        var patients3;

        $(document).ready(function () {
            var url = "@Url.Action("BarChartLocations")";
            $.post(url, {})
                .done(function (data) {
                    locations3 = data;
                    var url = "@Url.Action("BarChartPatients")";
                    $.post(url, {})
                        .done(function (data) {
                            patients3 = data

                            for (x = 0; x < patients3.length; x++) {
                                patients3[x] = parseInt(patients3[x]);
                            }

                            console.log("Patients" + data);

                            var barChartData = {
                                labels: locations3,
                                datasets: [
                                    {
                                        fillColor: "rgba(20,220,20,0.5)",
                                        strokeColor: "rgba(20,220,20,0.8)",
                                        highlightFill: "rgba(20,220,20,0.75)",
                                        highlightStroke: "rgba(20,220,20,1)",
                                        data: patients3
                                    }
                                ]

                            }

                                var chart3 = document.getElementById("bar-chart-pat").getContext("2d");
                                window.myBar = new Chart(chart3).Bar(barChartData, {
                                    responsive: true
                                });


                        })
                        .fail(function (data) {

                            console.log(data);
                        });
                })
                .fail(function (data) {

                    console.log(data);
                });
        });

        $(document).ready(function () {

        });

</script>
}
